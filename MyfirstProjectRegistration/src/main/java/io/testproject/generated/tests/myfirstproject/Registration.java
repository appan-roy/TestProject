package io.testproject.generated.tests.myfirstproject;

import io.testproject.java.annotations.v2.Parameter;
import io.testproject.java.annotations.v2.Test;
import io.testproject.java.enums.ParameterDirection;
import io.testproject.java.enums.TakeScreenshotConditionType;
import io.testproject.java.sdk.v2.drivers.WebDriver;
import io.testproject.java.sdk.v2.enums.ExecutionResult;
import io.testproject.java.sdk.v2.exceptions.FailureException;
import io.testproject.java.sdk.v2.reporters.TestReporter;
import io.testproject.java.sdk.v2.tests.WebTest;
import io.testproject.java.sdk.v2.tests.helpers.WebTestHelper;
import java.lang.String;
import org.openqa.selenium.By;

/**
 * This class was automatically generated by TestProject
 * Project: My first Project
 * Test: Registration
 * Generated by: Appan Singha Roy (appan12345@gmail.com)
 * Generated on Fri May 15 18:20:11 GMT 2020.
 */
@Test(
    name = "Registration",
    description = "User registration",
    version = "1.0"
)
public class Registration implements WebTest {
  @Parameter(
      description = "Auto generated application URL parameter",
      defaultValue = "https://example.testproject.io/web/",
      direction = ParameterDirection.INPUT
  )
  public String ApplicationURL;

  public ExecutionResult execute(WebTestHelper helper) throws FailureException {
    WebDriver driver = helper.getDriver();
    // set timeout for driver actions (similar to step timeout)
    driver.setTimeout(15000);
    TestReporter report = helper.getReporter();
    By by;
    boolean booleanResult;
    Login login;
    ExecutionResult executionresult;
    Logout logout;

    // 1. User login
    login = new Login();
    login.ApplicationURL = ApplicationURL;
    executionresult = login.execute(helper);
    report.step("User login", executionresult == ExecutionResult.PASSED, TakeScreenshotConditionType.Failure);

    // 2. Click 'country'
    by = By.cssSelector("#country");
    booleanResult = driver.testproject().click(by);
    report.step("Click 'country'", booleanResult, TakeScreenshotConditionType.Failure);

    // 3. Select the 'IN' option in 'country'
    by = By.cssSelector("#country");
    booleanResult = driver.testproject().selectAnOptionByValue(by,"IN");
    report.step("Select the 'IN' option in 'country'", booleanResult, TakeScreenshotConditionType.Failure);

    // 4. Click 'address1'
    by = By.cssSelector("#address");
    booleanResult = driver.testproject().click(by);
    report.step("Click 'address1'", booleanResult, TakeScreenshotConditionType.Failure);

    // 5. Type '12, G T Road' in 'address1'
    by = By.cssSelector("#address");
    booleanResult = driver.testproject().typeText(by,"12, G T Road");
    report.step("Type '12, G T Road' in 'address1'", booleanResult, TakeScreenshotConditionType.Failure);

    // 6. Click 'email1'
    by = By.cssSelector("#email");
    booleanResult = driver.testproject().click(by);
    report.step("Click 'email1'", booleanResult, TakeScreenshotConditionType.Failure);

    // 7. Type 'abc@def.com' in 'email1'
    by = By.cssSelector("#email");
    booleanResult = driver.testproject().typeText(by,"abc@def.com");
    report.step("Type 'abc@def.com' in 'email1'", booleanResult, TakeScreenshotConditionType.Failure);

    // 8. Click 'phone1'
    by = By.cssSelector("#phone");
    booleanResult = driver.testproject().click(by);
    report.step("Click 'phone1'", booleanResult, TakeScreenshotConditionType.Failure);

    // 9. Type '9876543210' in 'phone1'
    by = By.cssSelector("#phone");
    booleanResult = driver.testproject().typeText(by,"9876543210");
    report.step("Type '9876543210' in 'phone1'", booleanResult, TakeScreenshotConditionType.Failure);

    // 10. Click 'save1'
    by = By.cssSelector("#save");
    booleanResult = driver.testproject().click(by);
    report.step("Click 'save1'", booleanResult, TakeScreenshotConditionType.Failure);

    // 11. 'Saved' contains text 'Saved'?
    by = By.xpath("//span[. = 'Saved']");
    booleanResult = driver.testproject().containsText(by,"Saved");
    report.step("'Saved' contains text 'Saved'?", booleanResult, TakeScreenshotConditionType.Failure);

    // 12. User logout
    logout = new Logout();
    logout.ApplicationURL = ApplicationURL;
    executionresult = logout.execute(helper);
    report.step("User logout", executionresult == ExecutionResult.PASSED, TakeScreenshotConditionType.Failure);

    return ExecutionResult.PASSED;
  }
}
